---
import { siteConfig } from '../config/site';
import MainLayout from '../layouts/MainLayout.astro';
import SplashScreen from '../components/SplashScreen/SplashScreen.astro';
import Header from '../components/Header/Header.astro';
import Hero from '../components/Hero/Hero.astro';
import About from '../components/About/About.astro';
import Skills from '../components/Skills/Skills.astro';
import Footer from '../components/Footer/Footer.astro';
import BackToTop from '../components/BackToTop/BackToTop.astro';

const pageMeta = {
	title: siteConfig.meta.title,
	description: siteConfig.meta.description,
	keywords: [...siteConfig.meta.keywords],
	url: siteConfig.meta.url,
	image: siteConfig.meta.image,
};
---

<MainLayout {...pageMeta}>
	<SplashScreen />
	<Header />
	<main>
		<Hero />
		<About />
		<Skills />
	</main>
	<Footer />
	<BackToTop />
	<script is:inline>
		if ('scrollRestoration' in history) {
			history.scrollRestoration = 'manual';
		}
		window.addEventListener('load', () => {
			window.scrollTo(0, 0);
			// 清除 URL 中的锚点
			if (window.location.hash) {
				history.replaceState(null, '', window.location.pathname + window.location.search);
			}
		});
	</script>
</MainLayout>

<style is:global>
	* {
		margin: 0;
		padding: 0;
		box-sizing: border-box;
	}

	html {
		scroll-behavior: smooth;
	}

	body {
		font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
		line-height: 1.6;
		color: #1a1a1a;
		background: #ffffff;
		overflow-x: hidden;
	}

	main {
		padding-top: 0;
	}
</style>
